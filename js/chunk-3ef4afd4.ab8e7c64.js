(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ef4afd4"],{3909:function(t,e,c){},6384:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a=function(t){return Object(n["x"])("data-v-173575f8"),t=t(),Object(n["v"])(),t},i={class:"nearby"},o={class:"nearby-content"},s=a((function(){return Object(n["h"])("h2",null,"附近的站牌",-1)})),u={class:"distance"},r={class:"distance-title"},b={class:"distance-content"},j={key:0},O={key:0},d={key:1},l={key:2},g={key:3},f={key:4},v={key:5},h={key:6},y={key:7};function p(t,e,c,a,p,B){var m=Object(n["D"])("Loading"),k=Object(n["D"])("Navbar"),L=Object(n["D"])("Title"),S=Object(n["D"])("Footer");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(m,{active:p.isLoading},null,8,["active"]),Object(n["j"])(k),Object(n["h"])("div",i,[Object(n["j"])(L),Object(n["h"])("div",o,[s,Object(n["h"])("div",u,[Object(n["h"])("div",r,[Object(n["h"])("div",{class:"distance-common distance-100 active",onClick:e[0]||(e[0]=function(t){return B.getNearbyBusSite(500)})}," 500 m "),Object(n["h"])("div",{class:"distance-common distance-300",onClick:e[1]||(e[1]=function(t){return B.getNearbyBusSite(1e3)})},"1000 m")]),Object(n["h"])("div",b,[0===p.nearbyBusSite.length?(Object(n["u"])(),Object(n["g"])("h3",j,"目前所在附近沒有公車站牌 !")):Object(n["f"])("",!0),(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["B"])(p.nearbyBusSite,(function(t){return Object(n["u"])(),Object(n["g"])("div",{class:"distance-txt",key:t.StationID},[Object(n["h"])("h3",null,[Object(n["i"])(Object(n["G"])(t.StationName.Zh_tw)+" ",1),"E"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",O,"(東行)")):Object(n["f"])("",!0),"W"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",d,"(西行)")):Object(n["f"])("",!0),"S"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",l,"(南行)")):Object(n["f"])("",!0),"N"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",g,"(北行)")):Object(n["f"])("",!0),"SE"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",f,"(東南行)")):Object(n["f"])("",!0),"NE"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",v,"(東北行)")):Object(n["f"])("",!0),"SW"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",h,"(西南行)")):Object(n["f"])("",!0),"NW"===t.Bearing?(Object(n["u"])(),Object(n["g"])("span",y,"(西北行)")):Object(n["f"])("",!0)]),(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["B"])(t.Stops,(function(t){return Object(n["u"])(),Object(n["g"])("p",{key:t},Object(n["G"])(t.RouteName.Zh_tw),1)})),128))])})),128))])])]),Object(n["j"])(S)])],64)}c("99af");var B=c("d178"),m=c("43b3"),k=c("fd2d"),L=c("c456"),S={name:"Nearby",components:{Navbar:B["a"],Title:m["a"],Footer:k["a"]},data:function(){return{userLocation:{longitude:0,latitude:0},nearbyBusSite:[],isLoading:!1}},methods:{getData:function(t,e){var c=this;this.isLoading=!0,this.axios.get(t,{headers:Object(L["a"])()}).then((function(t){c[e]=t.data})).catch((function(t){console.log(t)})),setTimeout((function(){c.isLoading=!1}),1e3)},getUserLocation:function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t.userLocation.longitude=e.coords.longitude,t.userLocation.latitude=e.coords.latitude,t.getNearbyBusSite(500)}),(function(t){var e=t.message;console.error(e)}))},getNearbyBusSite:function(t){this.getData("https://ptx.transportdata.tw/MOTC/v2/Bus/Station/NearBy?$spatialFilter=nearby(".concat(this.userLocation.latitude,"%2C%20").concat(this.userLocation.longitude,"%2C%20").concat(t,")&$format=JSON"),"nearbyBusSite")}},mounted:function(){this.getUserLocation();var t=document.querySelector(".distance-100"),e=document.querySelector(".distance-300");t.addEventListener("click",(function(){t.classList.add("active"),e.classList.remove("active")})),e.addEventListener("click",(function(){t.classList.remove("active"),e.classList.add("active")}))}},N=(c("814f"),c("6b0d")),w=c.n(N);const D=w()(S,[["render",p],["__scopeId","data-v-173575f8"]]);e["default"]=D},"814f":function(t,e,c){"use strict";c("3909")}}]);
//# sourceMappingURL=chunk-3ef4afd4.ab8e7c64.js.map